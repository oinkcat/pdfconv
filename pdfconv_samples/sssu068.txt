 1ТЕОРИЯ МАССОВОГО ОБСЛУЖИВАНИЯ  Введение  Сложный характер рыночной экономики и современный уровень предъявляемых к ней требований стимулируют использование более серьезных методов анализа ее теоретиче-ских и практических проблем. В последние десятилетия значительный вес в экономических исследованиях приобрели математические методы. Математическое моделирование все бо-лее и более становится одним из основных и наиболее плодотворных методов 2Каждая СМО включает в свою структуру некоторое число обслуживаю?и? устройств \(единиц, приборов, линий\), которые называют каналами обслуживания. Роль каналов могут играть лица, выполняю?ие те или иные операции \(кассиры, операторы, продавцы, парик-ма?еры и т.д.\), линии связи, автома?ины, краны, ремонтные бригады, железнодорожные пу-ти, бензоколонки и т.д. Каждая СМО предназначена для обслуживания \(выполнения\) некоторого потока2 заявок \(или требований\), поступаю?и? на в?од системы боль?ей частью не регулярно, а в случайные моменты времени. Обслуживание заявок, в об?ем случае, также длится не посто-янное, заранее известное, а случайное время. После обслуживания заявки канал освобожда-ется и готов к приему следую?ей заявки. Случайный ?арактер потока и времени и? обслу-живания приводит к неравномерной загруженности СМО: в некоторые промежутки времени на в?оде СМО могут скапливаться необслуженные заявки \(они либо становятся в очередь, либо покидают СМО необслуженными\), в другие же периоды при свободны? канала? на в?оде СМО заявок не будет, что приводит к недогрузке СМО, т.е. к простаиванию каналов. С?ема СМО изображена на рисунке 1. Рисунок 1. Таким образом, во всякой СМО можно выделить следую?ие основные ?лементы: 1\) в?одя?ий поток заявок; 2\) очередь; 3\) каналы обслуживания; 4\) вы?одя?ий поток обслуженны? заявок.  Каждая СМО в зависимости от свои? параметров: ?арактера потока заявок, числа ка-налов обслуживания и и? производительности, а также  от правил организации работы, об-ладает определенной эффективностью функционирования \(пропускной способностью\), по-зволяю?ей ей более или менее успе?но справляться с потоком заявок. Предметом изучения теории массового обслуживания являются СМО. ?ель теории массового обслуживания \226 выработка рекомендаций по рациональному построению СМО, рациональной организации и? работы и регулированию потока заявок для обеспечения высокой ?ффективности функционирования СМО. ?ля достижения ?той цели ставятся задачи теории массового обслуживания, состоя-?ие в установлении зависимостей ?ффективности функционирования СМО от ее организа-ции \(параметров\): ?арактера потока заявок, числа каналов и и? производительности и правил работы СМО.                                                           
 2 Потоком событий \(в данном случае, заявок\) называют последовательность событий, наступаю?и? одно за другим в какие-то заранее неизвестные, случайные моменты времени. 
1
2
n
?ходящийпоток заявок
??о?Поток необслуженных\(покинувших очередь\) заявок?ы?о?Поток обслуженных заявок
 3В качестве ?арактеристик ?ффективности функционирования СМО можно выбрать три основные группы \(обычно средни?\) показателей: 1. Показатели эффективности использования СМО: 1.1. Абсолютная пропускная способность СМО \226 среднее число заявок, которое смо-жет обслужить СМО в единицу времени. 1.2. Относительная пропускная способность СМО \226 отно?ение среднего числа заявок, обслуживаемы? СМО в единицу времени, к среднему числу поступив?и? за ?то же время заявок. 1.3. Средняя продолжительность периода занятости СМО. 1.4. Ко?ффициент использования СМО \226 средняя доля времени, в течение которого СМО занята обслуживанием заявок, и т.п. 2. Показатели качества обслуживания заявок: 2.1. Среднее время ожидания заявки в очереди. 2.2. Среднее время пребывания заявки в СМО. 2.3. Вероятность отказа заявке в обслуживании без ожидания. 2.4. Вероятность того, что вновь поступив?ая заявка немедленно будет принята к об-служиванию. 2.5. ?акон распределения времени ожидания заявки в очереди. 2.6. ?акон распределения времени пребывания заявки в СМО. 2.7. Среднее число заявок, на?одя?и?ся в очереди. 2.8. Среднее число заявок, на?одя?и?ся в СМО, и т.п. 3. Показатели эффективности функционирования пары \253СМО \226 кли-ент\273, где под \253клиентом\273 понимают всю совокупность заявок или некий и? источ-ник. К числу таки? показателей относится, например, средний до?од, приносимый СМО в единицу времени, и т.п.  Случайный ?арактер потока заявок и длительности и? обслуживания порождает в СМО случайный процесс.  Определение
. Случайным процессом \(или случайной функцией\) называется соответст-вие, при котором каждому значению аргумента \(в данном случае \226 моменту из промежутка времени проводимого опыта\) ставится в соответствие случайная величина \(в данном случае \226 состояние СМО\). По?тому для ре?ения задач теории массового обслуживания необ?одимо изучить случайный процесс, протекаю?ий в СМО, т.е. необ?одимо построить и проанализировать его математическую модель. Математический анализ работы СМО су?ественно упро?ается, если ?тот случайный процесс удовлетворяет определенным условиям, которые будут рас-смотрены ниже.  Классификация систем массового обслуживания  Системы массового обслуживания делятся на типы \(или классы\) по ряду признаков.  По числу каналов
 СМО подразделяют на одноканальные \(когда имеется один канал обслуживания\) и многоканальные, точнее n-канальные \(когда количество каналов 2?n\). ?десь и далее будем полагать, что каждый канал одновременно может обслуживать только одну заявку и, если не оговорено специально, каждая на?одя?аяся под обслуживанием заяв-ка обслуживается только одним каналом. Многоканальные СМО могут состоять из однород-ны? каналов, либо из разнородны?, отличаю?и?ся длительностью обслуживания одной за-явки. Практически время обслуживания каналом одной заявки обT является непрерывной случайной величиной. Однако при условии абсолютной однородности поступаю?и? заявок и каналов время обслуживания может быть и величиной постоянной \(constTоб?\). По дисциплине обслуживания
 СМО подразделяют на три класса: 
 41. СМО с отказами, в которы? заявка, поступив?ая на в?од СМО в момент, когда все каналы заняты, получает \253отказ\273 и покидает СМО \(\253пропадает\273\). ?тобы ?та заявка все же была обслужена, она должна снова поступить на в?од СМО и рассматриваться при ?том как заявка, поступив?ая впервые. Примером СМО с отказами может служить работа АТС: если набранный телефонный номер \(заявка, поступив?ая на в?од\) занят, то заявка получает отказ, и, чтобы дозвониться по ?тому номеру, следует его набрать е?е раз \(заявка поступает на в?од как новая\). 2. СМО с ожиданием \(неограниченным ожиданием или очередью\). В таки? система? заявка, поступив?ая в момент занятости все? каналов, становится в очередь и ожидает осво-бождения канала, который примет ее к обслуживанию. Каждая заявка, поступив?ая на в?од, в конце концов будет обслужена. Такие СМО часто встречаются в торговле, в сфере бытово-го и медицинского обслуживания, на предприятия? \(например, обслуживание станков брига-дой наладчиков\). 3. СМО смешанного типа \(с ограниченным ожиданием\). ?то такие системы, в кото-ры? на пребывание заявки в очереди накладываются некоторые ограничения. ?ти ограничения могут накладываться на длину очереди, т.е. максимально возможное число заявок, которые одновременно могут на?одиться в очереди. В качестве примера такой системы можно привести мастерскую по ремонту автомобилей, имею?ую ограниченную по размерам стоянку для неисправны? ма?ин, ожидаю?и? ремонта. Ограничения ожидания могут касаться времени пребывания заявки в очереди, по исте-чению которого она вы?одит из очереди и покидает систему, либо касаться общего времени пребывания заявки в СМО \(т.е. суммарного времени пребывания заявки в очереди и под об-служиванием\). В СМО с ожиданием и в СМО сме?анного типа применяются различные с?емы об-служивания заявок из очереди. Обслуживание может быть упорядоченным, когда заявки из очереди обслуживаются в порядке и? поступления в систему, и неупорядоченным, при кото-ром заявки из очереди обслуживаются в случайном порядке. Иногда применяется обслужи-вание с приоритетом, когда некоторые заявки из очереди считаются приоритетными и по-?тому обслуживаются в первую очередь. По ограничению потока заявок
 СМО делятся на замкнутые и открытые. Если поток заявок ограничен и заявки, покинув?ие систему, могут в нее возвра?ать-ся, то СМО является замкнутой, в противном случае \226 открытой. Классическим примером замкнутой СМО служит работа бригады наладчиков в це?у. Станки являются источниками заявок на обслуживание, и и? количество ограничено, наладчики \226 каналы обслуживания. После проведения ремонтны? работ вы?ед?ий из строя станок снова становится источни-ком заявок на обслуживание. В открытой СМО ?арактеристики потока заявок не зависят от того, в каком состоянии сама СМО \(сколько каналов занято\). В замкнутой СМО \226 зависят. Так, в рассмотренном вы?е примере интенсивность потока \253заявок\273 со стороны станков \(т.е. количество заявок в единицу времени\) зависит от того, сколько и? неисправно и ждет налад-ки. По количеству ?тапов обслуживания
 СМО делятся на однофазные и многофазные системы. Если каналы СМО однородны, т.е. выполняют одну и ту же операцию обслужива-ния, то такие СМО называются однофазными. Если каналы обслуживания расположены по-следовательно и они неоднородны, так как выполняют различные операции обслуживания \(т.е. обслуживание состоит из нескольки? последовательны? ?тапов или фаз\), то СМО назы-вается многофазной. Примером работы многофазной СМО является обслуживание автомо-билей на станции те?нического обслуживания \(мойка, диагностирование и т.д.\). ?алее будем рассматривать только однофазные СМО.  Случайные процессы с дискретными состояниями  
 5Случайный процесс, протекаю?ий в СМО, состоит в том, что система в случайные моменты времени пере?одит из одного состояния в другое: меняется число заняты? каналов, число заявок, стоя?и? в очереди, и т.п. ?то означает, что СМО представляет собой физиче-скую систему дискретного типа с конечным \(или счетным\) множеством состояний3, а пере-?од системы из одного состояния в другое проис?одит скачком, в момент, когда осу?ествля-ется какое-то событие \(при?од новой заявки, освобождение канала, у?од заявки из очереди и т.п.\). Рассмотрим физическую систему 
X
 с не более, чем счетным множеством состояний ,...,...,,21nxxx В любой момент времени 
t
 система X может быть в одном из ?ти? состояний. Обозначим \)\(tpk ,...\),...,2,1\(n
k
? вероятность того, что в момент 
t
 система будет на?одиться в со-стоянии kx. Очевидно, для любого 
t
 
?
?
kktp.1\)\( Случайные процессы с дискретными состояниями \(не более, чем счетным множеством со-стояний\) бывают дву? типов: с дискретным или непрерывным временем. Первые отличаются тем, что пере?оды из состояния в состояние могут проис?одить только в строго определен-ные, разделенные конечными интервалами моменты времени ,...,21tt Случайные процессы с непрерывным временем отличаются тем, что пере?од системы из состояния в состояние воз-можен в любой момент времени 
t
.  В качестве примера дискретной системы 
X
, в которой протекает случайный процесс с непрерывным временем, рассмотрим группу из n самолетов, совер?аю?и? налет на тер-риторию противника, обороняемую системой ПВО. Ни момент обнаружения группы, ни мо-мент начала работы пусковы? установок системы ПВО заранее не известны. Различные со-стояния системы соответствуют различному числу пораженны? самолетов в составе группы: 0x \226 не уничтожено ни одного самолета, 1x \226 уничтожен ровно один самолет, \205\205\205\205\205\205\205\205\205\205\205\205\205\205. nx \226 уничтожены все n самолетов. С?ема возможны? состояний системы и возможны? пере?одов из состояния в состоя-ние показана на рисунке 2 \(такая с?ема называется графом состояний\).  Рисунок 2. Стрелками показаны возможные пере?оды системы из состояния в состояние. ?акруг-ленная стрелка, направленная из состояния kx в него же, означает, что система может не только перейти в соседнее состояние 1?kx, но и остаться в прежнем. ?ля данной системы ?а-рактерны необратимые переходы \(уничтоженные самолеты не восстанавливаются\); в связи с ?тим из состояния nx никакие пере?оды в другие состояния уже невозможны. Отметим, что граф состояний на рис. 2 показывает только пере?оды из состояния в соседнее состояние и не показывает \253перескоки\273 через состояние: ?ти перескоки отбро?ены                                                           
 3 В математике счетным называется бесконечное множество, ?лементы которого можно перенумеровать, т.е. записать в виде последовательности ,...,...,,21naaa. Если множество конечное или счетное, то его называют не более, чем счетным. 
...
0x1x2xnx
 6как практически невозможные. ?ействительно, для того чтобы система \253перескочила\273 через состояние, нужно, чтобы строго одновременно были поражены два или более самолета, а ве-роятность такого события равна нулю. Случайные процессы, протекаю?ие в СМО, как правило, представляют собой про-цессы с непрерывным временем. ?то связано со случайностью потока заявок. В противопо-ложность системе с необратимыми пере?одами, рассмотренной в предыду?ем примере, для СМО ?арактерны обратимые переходы: занятый канал может освободиться. В качестве примера рассмотрим одноканальную СМО \(например, одну телефонную линию\), в которой заявка, застав?ая канал занятым, не становится в очередь, а покидает сис-тему \(получает \253отказ\273\). ?то \226 дискретная система с непрерывным временем и двумя воз-можными состояниями: 0x \226 канал свободен, 1x \226 канал занят. Пере?оды из состояния в состояние обратимы. Граф состояний показан на рисунке 3.  Рисунок 3. ?ля того чтобы описать случайный процесс, протекаю?ий в дискретной системе с непрерывным временем, прежде всего нужно проанализировать причины, вызываю?ие пе-ре?од системы из состояния в состояние. ?ля СМО основным фактором, обусловливаю?им протекаю?ие в ней процессы, является поток заявок. По?тому математическое описание лю-бой СМО начинается с потока заявок.  Потоки событий  Под потоком событий понимается последовательность однородны? событий, сле-дую?и? одно за другим в какие-то случайные моменты времени \(например, поток вызовов на телефонной станции, поток покупателей, поток заказны? писем, поступаю?и? в почтовое отделение и т.п.\). Поток ?арактеризуется интенсивностью 
?
 \226 частотой появления событий или сред-ним числом событий, поступаю?и? в СМО в единицу времени. Поток событий называется регулярным, если события следуют одно за другим через определенные равные промежутки времени. Например, поток изделий на конвейере сбороч-ного це?а \(с постоянной скоростью движения\) является регулярным. Такой поток сравни-тельно редко встречается в реальны? система?, но представляет интерес как предельный случай. Типичным для системы массового обслуживания является случайный поток заявок. В ?том пункте мы рассмотрим потоки событий, обладаю?ие некоторыми особенно простыми свойствами. ?ля ?того введем ряд определений. 1. Поток событий называется стационарным, если его вероятностные ?арактеристи-ки не зависят от времени. В частности, интенсивность стационарного потока есть величина постоянная: 
?
?
?
\)\(
t
. ?то отнюдь не значит, что фактическое число со-бытий, появляю?ееся в единицу времени, постоянно, \226 нет, поток неизбежно \(ес-ли только он не регулярный\) имеет какие-то случайные сгу?ения и разрежения. Важно, что для стационарного потока ?ти сгу?ения и разрежения не носят зако-номерного ?арактера: на один участок длины 1 может попасть боль?е, на другой \226 мень?е событий, но среднее число событий, при?одя?ееся на единицу времени, постоянно и от времени не зависит. 
0x1x
 72. Поток событий называется потоком без последействия, если для любы? дву? не-пересекаю?и?ся участков времени 1
?
 и 2
?
 число событий, попадаю?и? на один из ни?, не зависит от числа событий попав?и? на другой. По сути, ?то означает, что события, образую?ие поток, появляются в те или иные моменты времени не-зависимо друг от друга, вызванные каждое своими собственными причинами. На-пример, поток пассажиров, в?одя?и? в метро, практически не имеет последейст-вия. А вот поток покупателей, от?одя?и? с покупками от прилавка, уже имеет по-следействие \(?отя бы потому, что интервал времени между отдельными покупате-лями не может быть мень?е, чем минимальное время обслуживания каждого из ни?\). 3. Поток событий называется ординарным, если вероятность попадания на малый \(?лементарный\) участок времени 
t
?
 дву? и более событий пренебрежимо мала по сравнению с вероятностью попадания одного события. ?ругими словами, поток событий ординарен, если события появляются в нем поодиночке, а не группами. Например, поток поездов, под?одя?и? к станции, ординарен, а поток вагонов \226 неординарен.  Поток событий называется простейшим \(или стационарным пуассоновским\), если он одновременно стационарен, ординарен и не имеет последействия. Название \253простей-?ий\273 об?ясняется тем, что СМО с простей?ими потоками имеет наиболее простое матема-тическое описание. Между прочим, самый простой, на первый взгляд, регулярный поток не является \253простей?им\273, так как обладает последействием: моменты появления событий в таком потоке связаны жесткой, функциональной зависимостью. Без специальны? усилий по поддержанию его регулярности такой поток обычно не создается. Простей?ий поток в качестве предельного возникает в теории случайны? процессов столь же естественно, как в теории вероятностей нормальное распределение получается в ка-честве предельного для суммы случайны? величин: при наложении \(суперпозиции\) доста-точного большого числа n независимых, стационарных и ординарных потоков \(сравнимых между собой по интенсивностям i
?
 \),...,2,1\(ni
?
\) получается поток, близкий к простей-шему с интенсивностью 
?
, равной сумме интенсивностей входящих потоков, т.е. ???nii1??. Название \253пуассоновский\273 связано с тем, что при соблюдении 1 \226 3 число событий, попадаю?и? на любой фиксированный интервал времени, будет распределено по закону Пу-ассона. Покажем ?то с помо?ью ?лементарны? рассуждений. Рассмотрим на оси времени O
t
 простей?ий поток событий как неограниченную по-следовательность случайны? точек \(рис. 4\). Рисунок 4. Пусть случайная величина 
X
 выражает число событий \(точек\), попадаю?и? на про-извольный промежуток времени 
?
. Покажем, что случайная величина 
X
 распределена по закону Пуассона. ? Разобьем мысленно временной промежуток 
?
 на n равны? ?лементарны? отрезков 
nt
?
??. Математическое ожидание числа событий, попадаю?и? на ?лементарный отрезок 
t
?, очевидно, равно 
t
??
?
, где 
?
 \226 интенсивность потока \(т.к. на единицу длины попадает в среднем 
?
 точек\). Согласно свойству ординарности потока можно пренебречь вероятно-стью попадания на ?лементарный \(т.е. малый\) отрезок дву? и более событий. По?тому мате-
Ot
?
 8матическое ожидание 
t
??
?
 числа точек, попадаю?и? на участок 
t
?, будет приближенно \(с точностью до бесконечно малы? выс?его порядка при 0?
?
t
\) равно вероятности попа-дания на него одной точки \(или, что в на?и? условия? равнозначно, ?отя бы одной\).  Будем считать ?лементарный отрезок 
t
?
 \253занятым\273, если в нем появилось событие потока, и \253свободным\273, если не появилось. Вероятность того, что отрезок 
nt
?
?? окажет-ся \253занятым\273, равна 
nt
?
?
?
??; вероятность того, что он окажется \253пустым\273, равна 
n
?
??1 \(чем мень?е 
t
?, тем точнее равенства\). ?исло заняты? ?лементарны? отрезков, т.е. число 
X
 событий на всем временном промежутке 
?
, можно рассматривать как случайную величину, имею?ую биномиальный за-кон распределения \(с параметрами n и 
np
?
?
?
\), а, следовательно, по формуле Бернулли 
mnmmnnnCmXP????????????????????1\)\(. \(Необ?одимое для возникновения биномиального закона условие независимости ис-пытаний, в данном случае \226 независимость n ?лементарны? отрезков относительно события \253отрезок занят\273, обеспечивается свойством отсутствия последействия потока\).  Известно, что при неограниченном увеличении числа ?лементарны? отрезков 
t
?
, т.е. при ??n, 
0??np
?
? и постоянном значении произведения 
??
?
???nnnp биноми-альное распределение стремится к распределению Пуассона с параметром 
?
??a: 
???????emPmm!\)\(\)\(.                                                         \(1\) От ?того свойства закона Пуассона \226 выражать биномиальное распределение при боль?ом числе опытов и малой вероятности события \226 проис?одит его название, часто при-меняемое в учебника? статистики: закон редких явлений. В частности, вероятность того, что за время 
?
 не произойдет ни одного события \(0?m\), равна  ??
?
?
?
eP\)\(0. ?                                                       \(2\) Пример
. На автоматическую телефонную станцию поступает простей?ий поток вы-зовов с интенсивностью 2,1?
?
 вызовов в минуту. Найти вероятность того, что за две мину-ты: а\) не придет ни одного вызова; б\) придет ровно один вызов; в\) придет ?отя бы один вы-зов. Ре?ение
. а\) Случайная величина 
X
 \226 число вызовов за две минуты \226 распределена по закону Пуассона с параметром 4,222,1
?
?
?
?
?. Вероятность того, что вызовов не будет \(0?m\), по формуле \(2\): 091,0\)2\(4,20
?
?
?eP. б\) Вероятность одного вызова \(1
?
m\) по формуле \(1\): 218,0091,04,2\)2\(1
?
?
?
P. в\) Вероятность ?отя бы одного вызова: 909,0091,01\)2\(1\)0\(1\)1\(0?
?
?
?
?
?
?
??PXPXP.  Найдем распределение интервала времени 
T
 между двумя произвольными соседними событиями простей?его потока. В соответствии с формулой \(2\) вероятность того, что на участке времени длиной 
t
 не появится ни одного из последую?и? событий, равна  
 9tetTP??
?
?\)\(, а вероятность противоположного события, т.е. функция распределения случайной величины 
T
, есть  tetTPtF??
?
?
?
?
1\)\(\)\(.                                          \(3\) Функция распределения \(3\) определяет показательный \(экспоненциальный\) закон распределения. Таким образом, интервал времени между двумя произвольными соседними событиями простейшего потока имеет показательное распределение, для которого матема-тическое ожидание равно среднему квадратичному отклонению случайной величины: 
??1??a, и обратно по величине интенсивности потока 
?
.  Для простейшего потока с интенсивностью 
?
 вероятность попадания на элементар-ный \(малый\) отрезок времени 
t
? хотя бы одного события потока равна согласно \(3\): tetTPPtt
?
?
?
?
?
?
?
???
?
?1\)\(.                                     \(4\) Эта приближенная формула, получаемая заменой функции te??? лишь двумя первы-ми членами ее разложения в ряд по степеням 
t
?
, тем точнее, чем меньше 
t
?.  ?о????? ????о???о?о ???????о?о ??о?????  Математический анализ работы СМО существенно упрощается, если процесс этой ра-боты \226 марковский. Случайный процесс, протекающий в системе 
S
, называется марковским \(или процессом без последействия\), если он обладает следующим свойством: для каждого момента времени 0t вероятность любого состояния системы в будущем \(при 0tt?\) зависит только от ее состояния в настоящем \(при 0tt
?
\) и не зависит от того, когда и каким образом система перешла в это состояние, т.е. не зависит от ее поведения в прошлом \(при 0tt
?
\). Ранее мы уже упоминали об аналогичном свойстве некоторых потоков событий \(от-сутствии последействия\). Не надо понимать марковское свойство случайного процесса как полную независимость \253будущего\273 от \253прошлого\273; нет, в общем случае \253будущее\273 зависит от \253настоящего\273, т.е. вероятности \)\(tpi при 0tt? зависят от того, в каком состоянии is на-ходится система в настоящем \(при 0tt
?
\); само же это \253настоящее\273 зависит от \253прошлого\273, от того, как вела себя система 
S
 при 0tt
?
. Это можно сформулировать следующим обра-зом: для марковского случайного процесса \253будущее\273 зависит от \253прошлого\273 только через \253настоящее\273 \(рис. 5\). При фиксированном \253настоящем\273 условные вероятности всех состоя-ний системы в \253будущем\273 не зависят от предыстории процесса, т.е. от того, когда и как сис-тема 
S
 к моменту 0t пришла в состояние is. Рисунок 5. 
0t
0t0tt?0tt?
Прошлое?удущееН?стоящее
 10Пример 1
 \(немарковского случайного процесса\). Возьмем ранее рассмотренную сис-тему, представляю?ую собой группу из n самолетов, совер?аю?и? налет на территорию противника, обороняемую системой ПВО. Состояние системы в \253буду?ем\273 зависит от того,  когда и каким образом система при?ла в \253настоя?ее\273 состояние. В данном случае нельзя не учитывать предысторию процесса, а именно, как быстро часть самолетов данной группы бы-ла уничтожена системой ПВО. Пример 2
 \(немарковского случайного процесса\). Рассмотрим процесс игры в ?а?ма-ты; система 
S
 \226 группа ?а?матны? фигур. Состояние системы ?арактеризуется числом фи-гур \(обеи? сторон\) и позицией на ?а?матной доске в момент времени 0t. Буду?ее состояние системы \(в момент 0tt?\) зависит не только от состояния в \253настоя?ем\273, но и от того, когда и, главное, каким образом система при?ла в ?то состояние. А именно, если один из против-ников имеет материальное и/или позиционное преиму?ество, то важно знать, случайно или закономерно получено ?то преиму?ество, как развивалась партия \(т.е. изменялись состояния системы\) и т.д., поскольку от ответов на ?ти вопросы зависит информация о квалификации ?а?матистов, а следовательно, возможность предсказать изменение состояний системы. На практике марковские процессы в чистом виде обычно не встречаются, но нередко при?одится иметь дело с процессами, которые можно приближенно считать марковскими, т.е. такие, для которы? влиянием \253предыстории\273 можно пренебречь. Кроме того, су?еству-ют приемы, позволяю?ие сводить немарковские случайные процессы к марковским. Напри-мер, можно вводить в состав параметров, ?арактеризую?и? настоя?ее состояние системы, те параметры из про?лого, от которы? зависит буду?ее \(в ?том случае говорят о \253маркови-зации\273 случайного процесса\). Правда, такая процедура нередко приводит к сильному услож-нению математического аппарата. Су?ествуют и другие приемы сведения немарковски? случайны? процессов к марковским.  ?равнения Колмогорова. Предельные вероятности состояний  Если все потоки событий, переводя?ие систему 
S
 из состояния в состояние, \226 про-стей?ие, то процесс, протекаю?ий в системе, будет марковским4. ?то и естественно, так как простей?ий поток не обладает последействием: в нем \253буду?ее\273 не зависит от \253про?лого\273. Рассмотрим математическое описание марковского случайного процесса с дискрет-ными состояниями и непрерывным временем  на следую?ем примере. Пример
. Те?ническое устройство 
S
 состоит из дву? узлов, каждый из которы? в слу-чайный момент времени может выйти из строя \(отказать\), после чего мгновенно начинается ремонт узла, продолжаю?ийся заранее неизвестное случайное время.  Возможные состояния системы можно перечислить: 0S \226 оба узла исправны; 1S \226 первый узел ремонтируется, второй исправен; 2S \226 второй узел ремонтируется, первый ис-правен; 3S \226 оба узла ремонтируются. Будем полагать, что все пере?оды системы из состояния iS в jS проис?одят под воз-действием простей?и? потоков событий с интенсивностями ij
?
 \(3,2,1,0,?
j
i\); так, пере?од системы из состояния 0S в 1S будет проис?одить под воздействием потока отказов первого узла, а обратный пере?од из состояния 1S в 0S \226 под воздействием потока \253окончаний ре-монтов\273 первого узла и т.п. Граф состояний системы с проставленными у стрелок интенсивностями называют ?????????ы? \(рис. 6\).                                                           
 4 Простей?ий ?арактер потоков \226 достаточное, но не необ?одимое условие для того, чтобы процесс был мар-ковским. 
 11Рисунок 6. На графе отсутствуют стрелки из 0S в 3S и из 1S в 2S. Это объясняется тем, что вы-ходы узлов из строя предполагаются независимыми друг от друга и, например, вероятностью одновременного выхода из строя двух узлов \(переход из 0S в 3S\) или одновременного окон-чания ремонтов двух узлов \(переход из 3S в 0S\) можно пренебречь. Напомним, что вероятностью i-го состояния называется вероятность \)\(tpi того, что в момент 
t
 система будет находиться в состоянии iS. При этом для 
t
? ???301\)\(iitp. Рассмотрим систему в момент 
t
 и, задав малый промежуток 
t
?, найдем вероятность \)\(0ttp?? того, что система в момент 
t
t
?
?
 будет находиться в состоянии 0S. Это дости-гается разными способами: либо 1\) система в момент 
t
 с вероятностью \)\(0tp находилась в состоянии 0S, а за время 
t
? не вышла из него; либо 2\) система в момент 
t
 с вероятностями \)\(1tp \(или \)\(2tp\) находилась в состоянии 1S или 2S и за время 
t
? перешла в состояние 0S. 1\) Найдем вероятность первого варианта. Вывести систему из состояния 0S \(см. рис.6\) можно суммарным простейшим потоком \(при наложении двух простейших потоков, как уже отмечалось, получается опять простейший поток\) с интенсивностью 0201
?
?
?
, т.е. в соответствии с \(4\), с вероятностью, приближенно равной t?
?
\)\(0201
?
?
. А вероятность того, что система не выйдет из состояния 0S, равна t
?
?
?
\)\(10201
?
?
. Вероятность того, что сис-тема будет находиться в состоянии 0S и не выйдет из него за время 
t
? \(т.е. вероятность первого варианта\), равна по теореме умножения вероятностей: 
?
?
ttp
?
?
?
\)\(1\)\(02010
?
?
. 2\) Найдем вероятность второго варианта. Под действием потока интенсивностью 10
?
 \(или 20
?
\) \(см. рис. 6\) система перейдет в состояние 0S с вероятностью, приближенно равной t?10
?
 \(или t?20
?
\). Вероятность того, что система будет находиться в состоянии 0S, по этому способу равна ttp?101\)\(
?
 \(или ttp
?
202\)\(
?
\). 
0S1S2S3S01
?
10
?
02
?
20
?
13
?
31
?
23
?
32
?
 12Применяя теорему сложения вероятностей \(для попарно несовместны? событий\), по-лучим: 
?
?
ttpttpttpttp??
?
?
?
?
?
???\)\(1\)\(\)\(\)\(\)\(020102021010
?
?
?
?
, откуда 
\)\(\)\(\)\(\)\(\)\(\)\(0020120210100tptptpttpttp???????????
?
.  Пере?одя к пределу при 0??
t
 \(приближенные равенства, связанные с применени-ем формулы \(4\), перейдут в точные\), получим в левой части уравнения производную \)\(0tp
?
 \(обозначим ее для простоты 0p?\): 002012201100\)\(pppp
?
?
?
?
?
?
?
??.  Получено дифференциальное уравнение первого порядка. Рассуждая аналогично для други? состояний системы 
S
, можно получить систему дифференциальных уравнений Кол-могорова для вероятностей состояний: ???????????????????????????.\)\(,\)\(,\)\(,\)\(332312231133223203320022113103310011002012201100pppppppppppppppp????????????????                                        \(5\) Сформулируем правило составления уравнений Колмогорова. ? левой части каждого из них стоит производная вероятности i-го состояния. ? правой части \226 сумма произведе-ний вероятностей всех состояний, из которых идут стрелки в данное состояние, умножен-ных на интенсивности соответствующих потоков событий, минус суммарная интенсив-ность всех потоков, выводящих систему из данного состояния, умноженная на вероят-ность данного \(i-го\) состояния. В системе \(5\) независимы? уравнений на единицу мень?е об?его числа уравнений. По?тому для ре?ения системы необ?одимо добавить уравнение ???301\)\(iitp. Особенность ре?ения дифференциальны? уравнений вооб?е состоит в том, что тре-буется задавать так называемые начальные условия, в данном случае \226 вероятности состоя-ний системы в начальный момент 0
?
t
. Так, например, систему уравнений \(5\) естественно ре?ать при условии, что в начальный момент оба узла исправны и система на?одилась в со-стоянии 0S, т.е. при начальны? условия? 1\)0\(0
?
p, 0\)0\(\)0\(\)0\(321??
?
ppp. Как ре?ать подобные уравнения? Вооб?е говоря, системы линейны? дифференци-альны? уравнений с постоянными ко?ффициентами можно ре?ать аналитически, но ?то удобно, когда число уравнений не превос?одит дву? \(иногда \226 тре?\). Если уравнений боль-?е, обычно и? ре?ают численно \226 вручную или на ?ВМ. Уравнения Колмогорова дают возможность найти все вероятности состояний как функции времени. Особый интерес представляют вероятности системы \)\(tpi в предельном стационарном режиме, т.е. при 
?
?
t
, которые называются предельными \(финальными\) вероятностями состояний. В теории случайны? процессов доказывается, что если число состояний системы ко-нечно и из каждого из них можно \(за конечное число шагов\) перейти в любое другое состоя-ние, то предельные вероятности существуют. Предельная вероятность состояния iS имеет четкий смысл: она показывает среднее относительное время пребывания системы в этом состоянии. Например, если предельная 
 13вероятность состояния 0S, т.е. 5,00
?
p, то ?то означает, что в среднем половину времени система на?одится в состоянии 0S. Как же вычислить предельные вероятности? Очень просто. Так как предельные веро-ятности постоянны, то, заменяя в уравнения? Колмогорова и? производные нулевыми значе-ниями, получим систему линейны? алгебраически? уравнений, описываю?и? стационарный режим. ?ля системы 
S
 с графом состояний, изображенном на рис. 6, такая система уравне-ний имеет вид: ???????????????????.\)\(,\)\(,\)\(,\)\(22311333231332002223203310011131022011000201pppppppppppp????????????????                                  \(6\) Систему можно составить непосредственно по размеченному графу состояний, если руководствоваться правилом, согласно которому слева в уравнениях стоит предельная веро-ятность данного состояния ip, умноженная на суммарную интенсивность всех потоков, ведущих из данного состояния, а справа \226 сумма произведений интенсивностей всех пото-ков, входящих в i-е состояние, на вероятности тех состояний, из которых эти потоки ис-ходят. ?ту систему из четыре? уравнений с четырьмя неизвестными 0p, 1p, 2p, 3p, казалось бы, вполне можно ре?ить. Но вот беда: уравнения \(6\) однородны \(не имеют сво-бодного члена\) и, значит, определяют неизвестные только с точностью до произвольного множителя. К счастью, мы можем воспользоваться нормировочным условием ???301iip и с его помо?ью ре?ить систему. При ?том одно \(любое\) из уравнений можно отбросить \(оно вытекает как следствие из остальны?\).  Пример 1
. Найти предельные вероятности для системы 
S
 \(см. рисунок 6 и соответст-вую?ий пример\) при ,101?
?
 ,202
?
?
 ,210
?
?
 ,213
?
?
 ,320
?
?
 ,123?
?
 ,331?
?
 .232
?
?
  Ре?ение
. Система алгебраически? уравнений, описываю?и? стационарный режим для данной СМО, имеет вид \(6\) или ?????????????????.1,224,34,3233210302301210ppppppppppppp                                     \(7\) \(?десь вместо одного \253ли?него\273 уравнения системы \(6\) записали нормировочное условие\).  Ре?ив систему \(7\), получим 4,00
?
p, 2,01
?
p, 27,02
?
p, 13,03?p, т.е. в пре-дельном стационарном режиме система 
S
 в среднем 40% времени будет на?одиться в со-стоянии 0S \(оба узла исправны\), 20% \226 в состоянии 1S \(первый узел ремонтируется, второй работает\), 27% \226 в состоянии 2S \(второй узел ремонтируется, первый работает\) и 13% вре-мени \226 в состоянии 3S \(оба узла ремонтируются\).  Пример 2
. Найти средний чистый до?од от ?ксплуатации в стационарном режиме сис-темы 
S
 в условия? предыду?его примера. Если известно, что в единицу времени исправная работа первого и второго узлов приносит до?од соответственно в 10 и 6 ден. ед., а и? ремонт требует затрат соответственно в 4 и 2 ден. ед. Оценить ?кономическую ?ффективность имею?ейся возможности умень?ения вдвое среднего времени ремонта каждого из дву? уз-
 14лов, если при ?том придется вдвое увеличить затраты на ремонт каждого узла \(в единицу времени\). Ре?ение
. Из предыду?его примера следует, что в среднем первый узел исправно ра-ботает долю времени, равную 67,027,04,020
?
?
?
?
pp, а второй узел \226 ??10pp6,02,04,0
?
?. В то же время первый узел на?одится в ремонте в среднем долю времени, равную 33,013,02,031
?
??
?
pp, а второй узел \226 4,013,027,032
?
??
?
pp. По?тому средний чистый до?од в единицу времени от ?ксплуатации системы, т.е. разность между до?одами и затратами, равен 18,824,0433,066,01067,0
?
?
?
?
?
?
?
??
?
 ден. ед. Умень?ение вдвое среднего времени ремонта каждого из узлов будет означать увели-чение вдвое интенсивностей потока \253окончаний ремонтов\273 каждого узла. ?то следует из ра-венства 
?1?a для показательного распределения \(потоков\) с параметром 
?
, о котором упоминалось ранее. Напомним, что a \226 ?то математическое ожидание случайной величины 
T
 \226 промежутка времени между произвольными двумя соседними событиями в простей?ем потоке. Таким образом, теперь интенсивности потоков событий будут равны: ,410
?
?
  ,620?
?
  ,631?
?
 432?
?
 \(остальные остались прежними\). При ?том система линейны? ал-гебраически? уравнений \(6\), описываю?ая стационарный режим системы 
S
, вместе с нор-мировочным условием примет вид: ?????????????????.1,427,66,6433210302301210ppppppppppppp Ре?ив систему, получим ,6,00
?
p ,15,01
?
p ,2,02
?
p 05,03?p. Учитывая, что 8,02,06,020
?
?
??pp, 
?
?
10pp75,015,06,0?
?
, 
?
?
31pp 2,005,015,0??, 25,005,02,032
?
?
??pp, а затраты на ремонт первого и второго уз-лов составляют теперь соответственно 8 и 4 ден. ед., вычислим средний чистый до?од в еди-ницу времени: 9,9425,082,0675,0108,01
?
?
?
?
?
?
?
??? ден. ед. Так как 1? боль?е 
?
 примерно на 21% \( 
%21%10018,818,89,9??
?
 \), то ?кономиче-ская целесообразность ускорения ремонтов узлов очевидна.  ??о????ы ?????? ? ?????о?????  В теории массового обслуживания ?ироко распространен специальный класс случай-ны? процессов \226 так называемые процессы гибели и размножения. Название ?то связано с рядом биологически? задач, где ?тот процесс служит математической моделью изменения численности биологически? популяций. Граф состояний процесса гибели и размножения имеет вид, показанный на рисунке 7. Рисунок 7. 
01
?
10
?
12
?
21
?
23
?
32
?
kk,1?
?
1,?kk
?
1,?kk
?
kk,1?
?
nn,1?
?
1,?nn
?
............0S1S2SkSnS
 15Рассмотрим упорядоченное множество состояний системы nSSS,...,,10. Пере?оды могут осу?ествляться из любого состояния только в состояния с соседними номерами, т.е. из состояния kS возможны пере?оды либо в состояние 1?kS, либо в состояние 1?kS5. Предположим, что все потоки событий, переводя?ие систему по стрелкам графа, про-стей?ие с соответствую?ими интенсивностями 1,?kk
?
 или kk,1?
?
. По графу, представленному на рис. 7, составим и ре?им алгебраические уравнения для предельны? вероятностей состояний \(и? су?ествование вытекает из возможности пере-?ода из каждого состояния в каждое другое и конечности числа состояний\). В соответствии с ранее сформулированным правилом составления таки? уравнений получим: для состояния 0S 110001pp
?
?
?
,                                                      \(8\) для состояния 1S ? 22100111012\)\(ppp
?
?
?
?
?
?
?
, которое с учетом \(8\) приводится к виду 221112pp
?
?
?
.  Аналогично, записывая уравнения для предельны? вероятностей други? состояний, можно получить следую?ую систему уравнений: ?????????????????????,......................,......................,,1,1,11,1,1221112110001nnnnnnkkkkkkpppppppp????????                                               \(9\) к которой добавляется нормировочное условие 1...10
?
?
?
?
nppp.                                              \(10\)  Ре?им ?ту систему уравнений. Из первого уравнения \(9\) выразим 1p через 0p: 
010011pp?
?
?.                                                  \(11\) Из второго, с учетом \(11\), получим: 
010210112121122ppp??
?
?
?
?
??;                                           \(12\) из третьего, с учетом \(12\), 
01021320112233pp???
?
?
?
?, и вооб?е, для любого 
k
 \(от 1 до n\):                                                           
 5 При анализе численности популяций считают, что состояние kS соответствует численности популяции, рав-ной 
k
, и пере?од системы из состояния kS в состояние 1?kS проис?одит при рождении одного члена популя-ции, а пере?од в состояние 1?kS \226 при гибели одного члена популяции. 
 16
010211,0112,1......ppkkkkk???
?
?
?
???.                                              \(13\) Обратим внимание на формулы для вероятностей nppp,...,,21: числители представляют со-бой произведения всех интенсивностей, стоящих у стрелок, ведущих слева направо \(от нача-ла и до данного состояния kS\); знаменатели \226 произведения всех интенсивностей, стоящих у стрелок, ведущих справа налево \(из состояния kS и до начала\).  Таким образом, все вероятности состояний npppp,...,,,210 выражены через одну из них \(0p\). Подставим эти выражения в нормировочное условие \(10\). Получим, вынося за скобки 0p: 
1.........110211,0112,11021011210010???????????????????????????nnnnp, откуда можно получить выражение для 0p: 
110211,0112,11021011210010.........1????????????????????????????nnnnp.                             \(14\) Заметим, что слагаемые в правой части \(14\) представляют собой не что иное, как последова-тельные коэффициенты при 0p в формулах для вероятностей nppp,...,,21.  СМО с отказами   В качестве показателей эффективности СМО с отказами будем рассматривать: 
A
6 \226 ???о?????? ??о??????? ??о?о??о??? СМО, т.е. среднее число заявок, обслуживаемых в единицу времени; Q7 \226 о??о????????? ??о??????? ??о?о??о???, т.е. среднюю долю пришедших заявок, об-служиваемых системой \(или вероятность того, что пришедшая заявка будет обслужена\); о??P \226 ???о???о??? о????? \226 вероятность того, что заявка покинет СМО необслуженной; 
k
 \226 ??????? ????о ?????ы? ?????о? \(для многоканальной системы\). 1.Одноканальная система с отказами. Рассмотрим следующую задачу. Имеется один канал, на который поступает поток заявок с интенсивностью 
?
. Поток обслуживаний имеет интенсивность 
?
. Найти предельные вероятности состояний системы и показатели ее эффективности. Здесь и в дальнейшем будем предполагать, что все потоки событий, переводящие СМО из состояния в состояние, \226 простейшие. К ним относится и поток обслуживаний \226 по-ток заявок, обслуживаемых одним непрерывно занятым каналом. Поскольку среднее время между двумя произвольными соседними событиями простейшего потока обратно по величи-не интенсивности потока, а для потока обслуживаний это время есть время обслуживания \(одной заявки\), то среднее время обслуживания 
?
1
?
о?T. ?????о? 8.                                                           
 6 
A
 \226 первая буква английского absolute \226 абсолютный. 7 Q \226 первая буква английского quota \226 доля, часть, квота. 
0S1S
?
?
 17Система 
S
 \(СМО\) имеет два состояния: 0S \226 канал свободен, 1S \226 канал занят. Раз-меченный граф состояний представлен на рисунке 8. В предельном стационарном режиме система алгебраически? уравнений \(6\) для веро-ятностей состояний имеет вид \(см. правило составления таки? уравнений\): ?????,,0110pppp????                                                  т.е. система вырождается в одно уравнение. Учитывая нормировочное условие 110
?
?
pp, найдем из полученной предельные вероятности состояний: 
??
?
??
?
????10,pp.  Предельные вероятности состояний 0p и 1p можно выразить через средние времена простоя канала 
прT и обслуживания одной заявки 
обT. ?ля ?того в формулы для вероятно-стей следует подставить 
обT1?
?
 и 
прT1
?
?
. В результате получим 
пробпрTTTp??0,    
пробобTTTp??1. Предельные вероятности выражают среднее относительное время пребывания систе-мы в состоянии 0S \(когда канал свободен\) и 1S \(когда канал занят\), т.е. определяют соответ-ственно относительную пропускную способность Q системы и вероятность отказа откP:  
,??
?
??Q 
??
?
??откP.   Пояснение
. Почему 0pQ?? В самом деле, 0p есть вероятность того, что заявка бу-дет принята к обслуживанию \(система на?одится в состоянии 0S, т.е. канал свободен\). Всего в единицу времени при?одит в среднем 
?
 заявок и из ни? обслуживается 0p
?
 заявок. Тогда доля обслуживаемы? заявок по отно?ению ко всему потоку заявок определяется величиной  
00ppQ???
?
.  Абсолютную пропускную способность \(или, иначе, среднее число заявок, поступаю-?и? в СМО в единицу времени\) найдем, умножив относительную пропускную способность Q на интенсивность потока заявок: 
??
??
????QA. Пример
. В фирму поступает простей?ий поток заявок на телефонные переговоры с интенсивностью 90?
?
 вызовов в час, а средняя продолжительность разговора по телефону 
2?обTмин. Определить показатели ?ффективности работы СМО \(телефонной связи\) при наличии одного телефонного номера. Ре?ение
. Интенсивность потока обслуживаний 
?
??
?
\)1\(5,0211минTоб
?
 
\)1\(30ч. Относительная пропускная способность СМО 
25,0\)3090\(30??
?
Q, т.е. в среднем только 25% поступаю?и? заявок осу?ествят переговоры по телефону. Соответст-
 18венно вероятность отказа составит 75,025,01
?
?
?
откP. Абсолютная пропускная способ-ность СМО 5,2225,090???
A
, т.е. в среднем в час будут обслужены 22,5 заявки на пере-говоры. Очевидно, что при наличии только одного телефонного номера СМО будет пло?о справляться с потоком заявок. 2.??о?о????????? ??????? ? о??????? \(задача ?рланга\). ?десь мы рассмотрим одну из первы? по времени, \253классически?\273 задач теории массового обслуживания; ?та задача возникла из практически? нужд телефонии и была ре?ена в 1909 г. датским инженером-математиком А.К. ?рлангом. ?адача ставится так: имеется n каналов \(линий связи\), на кото-рые поступает поток заявок с интенсивностью 
?
. Поток обслуживаний каждого канала име-ет интенсивность 
?
. Найти предельные вероятности состояний системы и показатели ее ?ф-фективности.  Система 
S
 \(СМО\) имеет следую?ие состояния \(нумеруем и? по числу заявок, на?о-дя?и?ся в системе\): 0S, 1S,\205, nS, где kS \226 состояние системы, когда в ней на?одится 
k
 заявок, т.е. занято 
k
 каналов. Граф состояний СМО соответствует процессу гибели и размножения \(рис. 9\): Рисунок 9. Поток заявок последовательно переводит систему из любого левого состояния в со-седнее правое с одной и той же интенсивностью 
?
. Интенсивность же потока обслужива-ний, переводя?и? систему из любого правого состояния в соседнее левое, постоянно меня-ется в зависимости от состояния. ?ействительно, если СМО на?одится в состоянии 2S \(два канала заняты\), то она может перейти в состояние 1S \(один канал занят\), когда закончит об-служивание либо первый, либо второй канал, т.е. суммарная интенсивность и? потоков об-служиваний будет 
?
2. Аналогично суммарный поток обслуживаний, переводя?ий СМО из состояния 3S \(три канала заняты\) в 2S, будет иметь интенсивность 
?
3, т.е. может освобо-диться любой из тре? каналов, и т.д. В формуле \(14\) для с?емы гибели и размножения получим для предельной вероятно-сти состояния 
1220!...!...!21????????????????nnkknkp????????,                        \(15\) где члены разложения 
?
?
, 
22!2??,\205, 
nnn??! \226 ко?ффициенты при 0p в выражения? для пре-дельны? вероятностей nppp,...,,21.  ?аметим, что в формулу \(15\) интенсивности 
?
 и 
?
 в?одят не по отдельности, а толь-ко в виде отно?ения 
?
?
. Обозначим  
?
?
?
?
 и будем называть величину 
?
 приведенной интенсивностью потока заявок или интенсив-ностью нагрузки канала. Она выражает среднее число заявок, при?одя?и? за среднее время обслуживания одной заявки. Пользуясь ?тим обозначением, перепи?ем формулу \(15\) в виде: 
?
?
?
?
2
?
?
3
?
?
k
?
?
\)1\(
?
k
?
?
n............0S1S2SkSnS
 19
120!...!21??????????????npn???.                                          \(16\)  При этом  01pp
?
?, 
022!2pp??, \205 , 
0!pnpnn??.                             \(17\)  Формулы \(16\) и \(17\) для предельных вероятностей получили названия формул Эрлан-га в честь основателя теории массового обслуживания.  Вероятность отказа СМО есть предельная вероятность того, что все n каналов систе-мы будут заняты, т.е.  
0!pnpPnnотк???. Отсюда находим относительную пропускную способность \226 вероятность того, что заявка бу-дет обслужена: 
0!11pnPQnnотк?????.  Абсолютную пропускную способность получим, умножая интенсивность потока зая-вок 
?
 на Q: 
???????????0!1pnQAn???.                                                     \(18\)  Осталось только найти среднее число занятых каналов 
k
. Эту величину можно было бы найти \253впрямую\273, как математическое ожидание дискретной случайной величины с воз-можными значениями n,...,1,0 и вероятностями этих значений nppp,...,,10: 
????????????nkknkppnpppk0210...210. Подставляя сюда выражения \(17\) для kp и выполняя соответствующие преобразования, мы, в конце концов, получили бы формулу для 
k
. Однако среднее число занятых каналов можно найти проще, если учесть, что абсолютная пропускная способность 
A
 системы есть не что иное, как интенсивность потока обслуженных системой заявок \(в единицу времени\). Так как каждый занятый канал обслуживает в среднем 
?
 заявок \(в единицу времени\), то среднее число занятых каналов 
?Ak? или, учитывая \(18\): 
??????????0!1pnkn??.  Пример
. В условиях предыдущего примера определить оптимальное число телефон-ных номеров в фирме, если условием оптимальности считать удовлетворение из каждых 100 заявок на переговоры в среднем не менее 90 заявок.  Решение
. Интенсивность нагрузки канала 330
/
90
?
?
?
, т.е. за время среднего \(по продолжительности\) телефонного разговора 
минTоб2
?
 поступает в среднем 3 заявки на переговоры. 
 20 Будем постепенно увеличивать число каналов \(телефонны? номеров\) ,...4,3,2?n и определим для получаемой n-канальной СМО ?арактеристики обслуживания. ?начения ?а-рактеристик СМО сведем в таблицу. ?исло каналов \(телефонны? номеров\) 
Показатели ?ффективности Обозначение 1 2 3 4 5 6 
Относительная пропускная способность Q 0,25 0,47 0,65 0,79 0,90 0,95 
Абсолютная пропускная способность A 22,5 42,3 58,8 71,5 80,1 85,3 
 По условию оптимальности 9,0?Q, следовательно, в фирме необ?одимо установить 5 телефонны? номеров \(в ?том случае 90,0
?
Q\). При ?том в час будут обслуживаться в среднем 80 заявок \(1,80?
A
\), а среднее число заняты? телефонны? номеров \(каналов\) 
?
k
 
67,2301,80??
?
A.  Тут уже проглядывает некоторый намек на оптимизацию. В самом деле, содержание каждого канала в единицу времени об?одится в какую-то сумму. Вместе с тем, каждая об-служенная заявка приносит какой-то до?од \(если речь идет о СМО, для которы? ?тот до?од можно оценить\). Умножая ?тот до?од на среднее число заявок 
A
, обслуживаемы? в единицу времени, мы получим средний до?од от СМО в единицу времени. Естественно, при увеличе-нии числа каналов ?тот до?од растет, но растут и рас?оды, связанные с содержанием кана-лов. ?то перевесит \226 увеличение до?одов или рас?одов? ?то зависит от условий операции, т.е. от \253платы за обслуживание заявки\273 и от стоимости содержания канала. ?ная ?ти величи-ны, можно найти оптимальное число каналов, наиболее ?кономически ?ффективное.  ??? ? о???????? \(? о???????\)   1. ???о????????? ??? ? о???????? ? о??????????? ?? ????? о??????. На прак-тике довольно часто встречаются одноканальные СМО с очередью \(врач, обслуживаю?ий пациентов; кассир, выдаю?ий зарплату; телефон-автомат на улице и т.д.\). В теории массово-го обслуживания одноканальные СМО с очередью также занимают особое место: именно к таким СМО относится боль?инство полученны? до си? пор аналитически? формул для не-марковски? систем.  Рассмотрим одноканальную СМО, на в?од которой поступает простей?ий поток зая-вок с интенсивностью 
?
. Предположим, что поток обслуживаний также простей?ий с ин-тенсивностью 
?
. ?то означает, что непрерывно занятый канал обслуживает в среднем 
?
 заявок в единицу времени. ?аявка, поступив?ая в СМО в момент, когда канал занят, в отли-чие от СМО с отказами, не покидает систему, а становится в очередь и ожидает обслужива-ния.  ?алее предполагаем, что в данной системе имеется ограничение на длину очереди, под которой понимается максимальное число мест в очереди, а именно, предполагаем, что в очереди могут на?одиться максимум 1?m заявок. По?тому заявка, при?ед?ая на в?од СМО, в момент, когда в очереди уже стоят m заявок, получает отказ и покидает систему не-обслуженной.  Таким образом, рассматриваемая СМО относится к системам смешанного типа с ог-раничением на длину очереди.  Пронумеруем состояния СМО по числу заявок, на?одя?и?ся в системе, т.е. под об-служиванием и в очереди: 0S \226 канал свободен \(следовательно, очереди нет\); 
 211S \226 канал занят и очереди нет, т.е. в СМО на?одится \(под обслуживанием\) одна заявка; 2S \226 канал занят и в очереди стоит одна заявка; \205\205\205\205\205\205\205\205\205\205\205\205\205\205\205\205\205\205\\205\205.. 1?mS \226 канал занят и в очереди m заявок.  Граф состояний данной СМО представлен на рис. 10 и совпадает с графом , описы-ваю?им процесс гибели и размножения, с тем отличием, что при наличии только одного ка-нала обслуживания все интенсивности потоков обслуживаний равны 
?
. Рисунок 10.  ?ля описания предельного режима работы СМО можно воспользоваться изложенны-ми ранее правилами и формулами. ?апи?ем сразу выражения, определяю?ие предельные вероятности состояний: ??????????????????,...1,1,...,2,1,11200mkkpmkpp???? где 
?
?
?
? \226 интенсивность нагрузки канала.  Если 
?
?
?, то получаем 
\)2\(1...110
?
?
?
?
?
?mpppm.   Пусть теперь 
?
?
?  \(1?
?
\). Выражение для 0p можно в данном случае записать про?е, пользуясь тем, что в знаменателе стоит сумма 2
?
m членов геометрической про-грессии со знаменателем 
?
: 
2011??
?
?mp?
?
 . ?аметим, что при 0
?
m мы пере?одим к уже рассмотренной одноканальной СМО с отказа-ми. В ?том случае 
\)\(\)1\(\)1\(20
?
?
?
?
?
?
?
?
??p \(как и было получено ранее\).  Определим основные ?арактеристики одноканальной СМО с ожиданием: относитель-ную и абсолютную пропускную способность, вероятность отказа, а также среднюю длину очереди и среднее время ожидания заявки в очереди.  Поступив?ая на в?од СМО заявка получает отказ тогда и только тогда, когда канал занят и в очереди ожидают m заявок, т.е. когда система на?одится в состоянии 1?mS. По-?тому вероятность отказа определяется вероятностью появления состояния 1?mS: 
?????????????????.1,21;1,1\)1\(211?????еслиmеслиpPmmmотк  Относительная пропускная способность, или доля обслуживаемы? заявок, поступаю-?и? в единицу времени, определяется выражением: 
??????????????????.1,21;1,11121????еслиmmеслиPQmmотк 
......0S1S2S1?mS
?
?
?
?
?
?
?
?
 22?аметим, что относительная пропускная способность Q совпадает со средней долей приня-ты? \(т.е. не получив?и? отказ\) в систему заявок среди все? поступив?и?, поскольку заявка попав?ая в очередь непременно будет обслужена.  Абсолютная пропускная способность системы Q
A
?
?
.  Среднее число заявок очL, стоя?и? в очереди на обслуживание определяется как ма-тематическое ожидание дискретной случайной величины 
k
 \226 числа заявок, стоя?и? в оче-реди: \)\(kMLоч
?
. Случайная величина 
k
 принимает значения 0, 1, 2, \205 , m, вероятности которы? опре-деляются вероятностями состояний системы kp. Таким образом, закон распределения дис-кретной случайной величины 
k
 имеет следую?ий вид:  
k
 0 1 2 \205 m 
p
 10pp? 2p 3p \205 1?mp 
 По?тому по определению математического ожидания дискретной случайной величины \(с учетом формул для вероятностей состояний\) получаем: ?
?
?
?
?
?
?
?
?
???13210...21\)\(0\)\(mpmppppkM ????????????mjjmjjmjjjppjjp110210111???.                                         \(19\)  Предположим, что 1?
?
. Очевидно имеем: 
?????????mjjjmjmjjddddj1111?????.                                             Но сумма ??mjj1? представляет собой сумму первы? m членов геометрической прогрессии m
?
?
?
?
,...,,,32:  
????????????????11\)1\(11mmmjj, 1
?
?
. Тогда 
\)1\(\)1\(\)1\(1121111???????????????????????????????????mmddddjmmmjjmjj.             \(20\)  Подставив выражение \(20\) в \(19\), найдем: 
202\)1\(\)1\(1\)\(?????????mmpkMm, или, используя равенство 
2011??
?
?mp?
?
 \(полученное при 1
?
?
\), имеем 
?
?
\)1\)\(1\(\)1\(1\)\(22???????mmmmkM?????.  Если же 1?
?
, то из равенства \(19\) ???mjjpkM10\)\(, 
 23а учитывая, что в ?том случае 
\)2\(10
?
?
mp и 
2\)1\(1
?
???mmjmj \(сумма mчленов арифме-тической прогрессии\), окончательно получаем 
\)2\(2\)1\(\)\(?
?
?mmmkM       \)1\(
?
?
. Итак, среднее число заявок в очереди 
?
?
??????????????????.1,\)2\(2\)1\(;1,\)1\)\(1\(\)1\(122???????еслиmmmеслиmmLmmоч         \(21\) Важной ?арактеристикой СМО с ожиданием является среднее время ожидания заявки в очереди 
очT. Пусть очT \226 непрерывная случайная величина, представляю?ая собой время ожидания заявки в очереди. Среднее время ожидания заявки в очереди вычислим как мате-матическое ожидание ?той случайной величины: 
\)\(очочTMT
?
. ?ля вычисления математического ожидания воспользуемся формулой полного мате-матического ожидания: если об условия? опыта можно сделать n \(попарно\) несовместны? гипотез nHHH,...,,21, то полное математическое ожидание случайной величины X может быть вычислено по формуле \)|\(\)\(\)\(1knkkHXMHPXM???, где \)|\(kHXM \226 условное математическое ожидание величины X при гипотезе kH [Вентцель, Овчаров \253Прикладные задачи теории вероятностей\273. \226 М.: Радио и связь, 1983, с.77].  Рассмотрим 2?m несовместны? гипотез kH, 1,...,1,0?
?
m
k
, состоя?и? в том, что СМО на?одится соответственно в состояния? kS, 1,...,1,0
?
?
m
k
. Вероятности ?ти? гипо-тез kkpHp?\)\(, 1,...,1,0??m
k
.  Если заявка поступает в СМО при гипотезе 0H, т.е. когда СМО на?одится в состоя-нии 0S, в котором канал свободен, то заявке не придется стоять в очереди и, следовательно, условное математическое ожидание \)|\(0HTMоч случайной величины очT при гипотезе 0H, совпадаю?ее со средним временем ожидания заявки в очереди при гипотезе 0H, равно ну-лю.  ?ля заявки, поступив?ей в СМО при гипотезе 1H, т.е. когда СМО на?одится в со-стоянии 1S, в котором канал занят, но очереди нет, условное математическое ожидание \)|\(1HTMоч случайной величины очT при гипотезе 1H, совпадаю?ее со средним временем ожидания заявки в очереди при гипотезе 1H, будет равно среднему времени обслуживания одной заявки 
?
1?обT.  Условное математическое ожидание \)|\(2HTMоч случайной величины очT при гипо-тезе 2H, т.е. при условии, что заявка поступила в СМО, на?одя?уюся в состоянии 2S, в ко-тором канал занят и в очереди уже ждет одна заявка, равно 
?
2 \(удвоенному среднему вре-
 24мени обслуживания, поскольку нужно обслужить две заявки: ту, которая на?одится в канале обслуживания, и ту, которая ждет в очереди\). И так далее.  Если заявка поступит в систему при гипотезе mH, т.е. когда канал занят и в очереди ждут 1?m заявок, то 
?
mHTMmоч
?
\)|\(.  Наконец, заявка, при?ед?ая в СМО при гипотезе 1?mH, т.е. когда канал занят, m заявок стоят в очереди, и свободны? мест в очереди боль?е нет, получает отказ и покидает систему. По?тому в ?том случае 0\)|\(1
?
?mочHTM.  Следовательно, по формуле полного математического ожидания, среднее время ожи-дания заявки в очереди 
?????????????10111\)|\(\)\(\)\(mkmkmkkkkочkочочkpkpHTMHpTMT??. Подставляя сюда выражения для вероятностей kp \(m
k
,...,2,1
?
\), получаем: 
???????mkkmkkочkppkT111001??
?
??.                                  \(22\) Если интенсивность нагрузки канала 1
?
?
, то из равенства \(22\) с учетом формул \(20\), \(21\), а также выражения для 0p на?одим: 
???????????22\)1\(\)1\(111???????mmTmmоч 
????????очmmLmm????????\)1\)\(1\(\)1\(1\(22.  Если же 1?
?
, то, подставляя в равенство \(22\) выражение 
\)2\(10??mp, значение суммы 
2\)1\(1????mmkmk, используя формулу \(21\) при 1
?
?
 и учитывая, что в данном случае 
?
?
?, будем иметь 
??очочLmmmT??
?
?\)2\(2\)1\(. Итак, для любого 
?
 получаем формулу для среднего времени пребывания заявки в очереди, которая называется формулой Литтла: 
?очочLT?, т.е. среднее время ожидания заявки в очереди 
очT равно среднему числу заявок в очереди очL, деленному на интенсивность 
?
 входящего потока заявок.  Пример
. На автозаправочной станции \(А?С\) имеется одна колонка. Пло?адка при станции, на которой ма?ины ожидают заправку, может вместить не более тре? ма?ин одно-временно, и если она занята, то очередная ма?ина, прибыв?ая к станции, в очередь не ста-новится, а проезжает на соседнюю А?С. В среднем ма?ины прибывают на станцию каждые 2 мин. Процесс заправки одной ма?ины продолжается в среднем 2,5 мин. Определить ос-новные ?арактеристики системы.  Ре?ение
. Математической моделью данной А?С является одноканальная СМО с ожи-данием и ограничением на длину очереди \(3
?
m\). Предполагается, что поток ма?ин, под?-езжаю?и? к А?С для заправки, и поток обслуживаний \226 простей?ие.  Поскольку ма?ины прибывают в среднем через каждые 2 мин, то интенсивность в?о-дя?его потока равна 
5,021??
?
 \(ма?ин в минуту\). Среднее время обслуживания одной 
 25ма?ины 
5,2?обT мин, следовательно, интенсивность потока обслуживаний 
4,05,21??
?
 \(ма?ины в минуту\).  Определяем интенсивность нагрузки канала: 
25,14,05,0?
?
?
?
?
?
.  Вычисляем вероятность отказа 
297,01\)1\(54???????откP, откуда относительная пропускная способность 703,0297,011
?
?
?
??откPQ и абсолютная пропускная способ-ность 352,0703,05,0?
?
??Q
A
?
.  Среднее число ма?ин, ожидаю?и? в очереди на заправку 
?
?
559,1\)1\)\(1\(\)34\(1532???????????очL. Среднее время ожидания ма?ины в очереди на?одим по формуле Литтла 
118,35,0559,1
?
?
?
?
очочLT.  Таким образом, из анализа работы СМО следует, что из кажды? 100 под?езжаю?и? ма?ин 30 получают отказ \(%7,29?откP\), т.е. обслуживаются 2/3 заявок. По?тому необ?о-димо либо сократить время обслуживания одной ма?ины \(увеличить интенсивность потока обслуживаний\), либо увеличить число колонок, либо увеличить пло?адку для ожидания. Оптимальное ре?ение принимается с учетом затрат, связанны? соответственно с увеличени-ем ?тата обслуживаю?его персонала \(увеличение производительности канала\), с рас?ире-нием пло?адки для ожидания или приобретением дополнительной колонки, и потерь, свя-занны? с потерей заявок на обслуживание.  2. ???о????????? ??? ? \(??о?????????ы?\) о????????. Проанализируем работу одноканальной СМО с ожиданием без ограничений на длину очереди и на время ожидания в очереди. По-прежнему будем предполагать, что в?одя?ий поток и поток обслуживаний яв-ляются простей?ими и имеют интенсивности 
?
 и 
?
 соответственно.  Такая система представляет собой предельный случай системы, рассмотренной в пре-дыду?ем пункте, при ??m. Таким образом, длина очереди станет бесконечной и в соот-ветствии с ?тим бесконечным станет число состояний СМО. Размеченный граф состояний представлен на рис. 11.  Рисунок 11. Если отказаться от ограничения на длину очереди, то случаи 1?
?
 и 1?
?
 начинают су?ественно различаться.  Если 
?
?
? \(1?
?
\), т.е. среднее число заявок, поступив?и? в систему за единицу времени, боль?е среднего числа обслуживаемы? заявок за то же время при непрерывно ра-ботаю?ем канале, то очевидно, что очередь неограниченно растет. В ?том случае предель-ный режим не устанавливается и предельны? вероятностей состояний не су?ествует \(точнее, они равны нулю\).  В случае 
?
?
? \(1?
?
\) только при условии, что в?одя?ий поток заявок и поток об-служиваний регулярные \(т.е. заявки поступают в СМО через равные интервалы времени, и время обслуживания одной заявки является постоянным, равным интервалу времени между поступлениями заявок\), очереди вооб?е не будет и канал будет обслуживать заявки непре-рывно. Но как только в?одя?ий поток или поток обслуживаний перестает быть регулярным и приобретает ?лементы случайности, очередь начинает расти до бесконечности. 
?
?
?
?
?
?
?
?
?
?
............0S1S2SkS
 26 По?тому далее при рассмотрении указанны? систем будем предполагать, что 
?
?
?
, т.е. 1?
?
. При ?том условии с течением времени устанавливается предельный режим, и пре-дельные вероятности состояний су?ествуют.  Устремляя m к бесконечности в формула? для вероятностей состояний \(полученны? для СМО с ограниченной длиной очереди при 1
?
?
\), на?одим выражения для предельны? вероятностей состояний рассматриваемой СМО: 
\)1\(1120limlim???
?
?????
?
???????kmmkkmkpp;   ,..2,1,0?
k
                    \(23\)  Предельные вероятности \(23\) удовлетворяют нормировочному условию  1...210
?
?
?
?
ppp. В самом деле,  ?????????????000\)1\(\)1\(kkkkkkp????. Но ряд ???0kk? представляет собой сумму бесконечно убываю?ей геометрической прогрес-сии с первым членом 101??
?
b и знаменателем 1
?
?
. По?тому  
???????110kk и, следовательно, 
111\)1\(0??????????kkp.  При отсутствии ограничений на очередь каждая заявка, поступив?ая в СМО, рано или поздно будет обслужена. По?тому вероятность отказа равна нулю: 0?откP.  Следовательно, вероятность того, что поступив?ая заявка будет принята в систему, так же как и относительная пропускная способность Q, равна единице: 11
?
?
?
откPQ. Тогда для абсолютной пропускной способности 
A
 \(и интенсивности вы?одя?его потока\) будем иметь: 
?
?
??Q
A
, т.е. интенсивности в?одя?его и вы?одя?его потоков совпадают.  Среднее число заявок в очереди очL получим из формулы \(21\) при 1?
?
 пере?одом к пределу при ??m: ??
?
?
?????????????????????????1\)11\(1\)1\)\(1\(\)1\(1222limlimmmmmLmmmmmоч.  Известно, что бесконечно малая m
?
 \(1
?
?
, 
?
?m\) является бесконечно малой бо-лее высокого порядка, чем бесконечно малая 1?m \(\)\(1?
?
mom
?
\), т.е. 0?mm
?
 при ??m. Следовательно, 
????12очL.  Среднее время ожидания заявки в очереди по формуле Литтла равно 
\)1\(\)1\(\)1\(22??????????????????очочLT.  Наконец, среднее время пребывания заявки в СМО 
СМОT складывается из среднего времени заявки в очереди 
очT и среднего времени обслуживания заявки 
обT: 
\)1\(\)1\(11\)1\(??
?
?????
?
?????????обочСМОTTT. 
 27 Пример
. В парикма?ерской работает только один мужской мастер. Среднее время стрижки одного клиента составляет 20 мин. Клиенты в среднем при?одят каждые 25 мин. Средняя стоимость стрижки составляет 60 руб. Как в первую смену с 9 до 15, так и во вто-рую \226 с 15 до 21, работают по одному мастеру. Провести анализ работы системы обслужива-ния. Определить ежедневный \253чистый\273 до?од каждого мастера, если он получает только 30% от выручки \(остальное у?одит на оплату аренды поме?ения, налоги, амортизацию обо-рудования и проч.\).  Ре?ение
. Интенсивность в?одя?его потока 4,2
?
?
 клиента/ч, интенсивность потока обслуживаний 
3\)3/1\(12011????чминTоб? клиента/ч. На?одим: интенсивность нагрузки \(канала\) мастера 
8,0
?
?
?
?
?
; долю времени \(вероятность\) простоя мастера 2,08,0110
?
?
?
?
?
?
p; вероятность того, что мастер занят работой 8,02,0110
?
?
?
?
?
ppзан; среднее число клиентов в очереди 
2,32,018,0122???????очL клиента; среднее время ожидания в очереди 
34,14,22,3????очочLT мин; среднее время пребывания клиентов в парикма?ерской  
34,212034,1
?
?
?
?
?обочСМОTTT мин.  Система работает вполне удовлетворительно. Поскольку 1
?
?
, то режим работы сис-темы устойчивый, 20% рабочего времени мастер не занят, а остальные 80% времени занят работой, длина очереди 3,2 клиента неболь?ая, а среднее время пребывания клиента в па-рикма?ерской всего 21,34 мин.   Каждый мастер занимается обслуживанием клиентов в среднем ежедневно в течение  
м
инч2888,4\)915\(8,0
?
?
?
?. ?а ?то время он обслужит 
4,1420288
?
 клиента, по?тому ежедневная выручка в среднем составит 864604,14?? руб. Ежедневный \253чистый\273 до?од каждого мастера в среднем со-ставляет 2,2593,0864?? руб. 
